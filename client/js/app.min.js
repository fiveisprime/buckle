/*! buckle 0.0.0 2013-10-24 */
!function(a,b,c){"use strict";a.Views.Dashboard=b.View.extend({events:{"click input[name=update]":"update"},initialize:function(){this.model.url="/api/user/"+this.model.get("username"),this.template=c.template($("#dashboard-template").html()),this.render()},render:function(){this.$el.html(this.template(this.model.toJSON()))},update:function(){return this.model.set("first",this.$("[name=first]").val()),this.model.set("last",this.$("[name=last]").val()),this.model.set("email",this.$("[name=email]").val()),this.model.save(null,{success:c.bind(this.success,this),error:c.bind(this.error,this)}),!1},success:function(){this.render(),this.$el.find(".edit-message").empty().text("Saved!").show().fadeOut(2e3)},error:function(){console.log(arguments),this.$el.find(".edit-message").empty().text("Failed to save..").show().fadeOut(2e3)}})}(Buckle,Backbone,_),!function(a,b){"use strict";a.Views.Login=b.View.extend({events:{"click button[type=submit]":"submit"},initialize:function(){this.$id=this.$el.find("[name=id]"),this.$password=this.$el.find("[name=password]"),this.$err=this.$el.find(".error-message"),this.$id.focus()},submit:function(){return 0===this.$id.val().length?(this.$err.empty().text("Enter your username."),!1):0===this.$password.val().length?(this.$err.empty().text("Enter your password."),!1):(this.$err.empty(),void 0)}})}(Buckle,Backbone),!function(a,b){"use strict";a.Views.Register=b.View.extend({events:{"click button[type=submit]":"submit"},initialize:function(){this.$username=this.$el.find("[name=username]"),this.$password=this.$el.find("[name=password]"),this.$email=this.$el.find("[name=email]"),this.$err=this.$el.find(".error-message"),this.pattern=/\S+@\S+\.\S+/},submit:function(){return 0===this.$username.val().length?(this.$err.empty().text("You must choose a username."),!1):0===this.$email.val().length?(this.$err.empty().text("You must enter an email address."),!1):this.pattern.test(this.$email.val())?0===this.$password.val().length?(this.$err.empty().text("You must enter password."),!1):(this.$err.empty(),void 0):(this.$err.empty().text("Your email address must be valid."),!1)}})}(Buckle,Backbone),!function(a,b){"use strict";a.Models.User=b.Model.extend({defaults:{first:"",last:""}})}(Buckle,Backbone);